<!-- 
    Copyright 2022 Liju Jayakumar. All Rights Reserved.
 -->
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Extract phone numbers from text" />
    <meta name="author" content="`Liju" Jayakumar` />
    <link rel="icon" href="./favicon.png" />

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css"
        integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous" />
    `
    <script>
        const VERSION_NUMBER = "1.0.30";

        const link = document.createElement('link');
        link.rel = 'stylesheet';
        link.href = 'template.css?v=' + VERSION_NUMBER;
        document.body.appendChild(link);

        const scripts = [
            './scripts/parser.js',
            './scripts/util.js',
            './scripts/global.js',
            './scripts/identifiers.js',
        ];

        for (let i = 0; i < scripts.length; i++) {
            const script = document.createElement('script');
            script.onerror = function () {
                alert('Could not load ' + this.src);
            };

            script.src = scripts[i] + '?v=' + VERSION_NUMBER;
            document.body.appendChild(script);
        }
    </script>

    <!-- reCAPTCHA -->
    <script src="https://www.google.com/recaptcha/api.js"></script>

    <title>Phone Number Parser</title>
</head>

<body onload="initialize()">
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <spam class="title-text">RegEx Number Parser </spam>
                <spam class="title-version">
                    <script>
                        document.write(VERSION_NUMBER);
                    </script>
                </spam>
            </div>
            <div id="navbar" class="collapse navbar-collapse">
                <div class="container title-disclaimer">
                    <p style="text-align: right;">
                        Copyright &copy;
                        <script>
                            document.write(new Date().getFullYear());
                        </script>
                        , Liju Jayakumar, All Rights Reserved. <br />
                        Not for commercial use.
                    </p>
                </div>
            </div>
        </div>
        <div id="notification" class="alert alert-success pull-right" role="alert">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span
                    aria-hidden="true">&times;</span></button>
            <strong><span id="lblNotificationText"></span></strong>
        </div>
    </nav>

    <div class="container fill">
        <div class="row fill">
            <div class="col-md-6">
                <div>
                    <label class="align-v-middle" for="input-text">Input Text</label>

                    <input id="txtIdentifier" class="pull-right" type="text" list="identifierDatalist"
                        onkeypress="onIdentifierChange(event)" oninput="onIdentifierInput(event)" />
                    <label id="lblIdentifier" class="pull-right align-v-middle" for="txtIdentifier">Identifier: </label>
                    <datalist id="identifierDatalist"></datalist>
                </div>
                <textarea id="input-text" rows="35" name="input-text"
                    placeholder="Please paste input text here or drag input file here." class="fill"
                    ondrop="onFileDrop(event)" onpaste="onInputPaste()" required></textarea>
            </div>
            <div class="col-md-6">
                <!-- Result -->
                <label id="lblResult" for="output-text">Result</label>
                <div class="pull-right">
                    <button id="output-copy" type="button" class="btn btn-link download-btn"
                        onclick="copy('#output-text')">Copy to Clipboard</button>&nbsp;
                    <button id="output-download" type="button" class="btn btn-link download-btn"
                        onclick="download('#output-text')">Download</button>
                </div>
                <br />
                <textarea id="output-text" rows="16" cols="2" name="output-text"
                    placeholder="Click Me to generate result." class="fill"></textarea>
                <!-- Auto generated result -->
                <label id="lblAutogenerated" for="auto-output-text">Autogenerated</label>
                <div class="pull-right">
                    <button id="auto-output-copy" type="button" class="btn btn-link download-btn"
                        onclick="copy('#auto-output-text')">Copy to Clipboard</button>&nbsp;
                    <button id="auto-output-download" type="button" class="btn btn-link download-btn"
                        onclick="download('#auto-output-text')">Download</button>
                </div>
                <br />
                <textarea id="auto-output-text" rows="17" cols="2" name="output-text"
                    placeholder="Click Me to generate result." class="fill"></textarea>
            </div>
        </div>
        <div class="row">
            <div class="col-md-2">
                <input id="fileInput" type="file" name="file" accept=".txt" onchange="handleFileSelect(this)" />
            </div>

            <div class="pull-right buttons">
                <input id="btnParse" type="button" class="btn btn-primary g-recaptcha"
                    data-sitekey="6LdG8v8fAAAAAEHjf85IbIQd_HqeVFT-eScAE8Ts" data-callback='onSubmit'
                    data-action='submit' onclick="parse()" value="Click Me!" />
                <input id="btnClear" type="button" class="btn btn-secondary" onclick="clearAll()" value="Clear" />

            </div>
        </div>
        <div class="">
            <p>
                <a class="btn btn-warning" data-toggle="collapse" href="#collapseExample" role="button"
                    aria-expanded="false" aria-controls="collapseExample">
                    Settings
                </a>
            </p>
            <div class="collapse flex" id="collapseExample">
                <div class="col-md-4">
                    <label for="input-patterns">Patterns</label><br />
                    <select id="input-patterns" name="patters" size="10" class="fill">
                        <option value="\d{10}"> 10 DIGITS</option>
                        <option value="\d{12}"> 12 DIGITS</option>
                        <option value="\d{11}"> 11 DIGITS</option>

                        <option value="\d{5} \d{5}"> 5 SPACE 5</option>
                        <option value="\d{5}  \d{5}"> 5 SPACE SPACE 5 </option>

                        <option value="\d{3} \d{3} \d{4}"> 3 SPACE 3 SPACE 4 </option>

                        <option value="\d{7} \d{3}"> 7 SPACE 3 </option>
                        <option value="\d{4} \d{7}"> 4 SPACE 7 (STD) </option>
                        <option value="\d{7}-\d{3}"> 7 - 3</option>
                    </select>
                    <input type="checkbox" id="chkAutoGenerate" checked />
                    <label for="chkAutoGenerate"> Autogenerate</label><br />
                    <input type="checkbox" id="chkReplaceNumber" />
                    <label for="chkReplaceNumber">Remove extracted numbers</label><br />
                </div>
                <div class="col-md-2">
                    <label for="input-cleanup">Cleanup</label><br />
                    <select id="input-cleanup" name="cleanup" size="5" class="fill">
                        <option value="5"> S = 5</option>
                        <option value=""> ï¿½ = ""</option>
                        <option value="0"> O = 0</option>
                        <option value="1"> l = 1</option>
                    </select>
                </div>
            </div>
        </div>
    </div>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"
        integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ"
        crossorigin="anonymous"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js"
        integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd"
        crossorigin="anonymous"></script>
</body>

</html>